{"version":3,"file":"js/blog.d20677d0.js","mappings":"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","sources":["webpack://book-store/./src/views/BlogView.vue?0ddc","webpack://book-store/./src/components/BlogPost.vue?e4ee","webpack://book-store/./src/components/BlogPost.vue?1c4b","webpack://book-store/./src/components/BlogPost.vue?ed24","webpack://book-store/./src/components/BlogPost.vue","webpack://book-store/./src/views/BlogView.vue?5c18","webpack://book-store/./src/views/BlogView.vue?7706","webpack://book-store/./src/views/BlogView.vue"],"sourcesContent":["import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 1,\n  style: {\"display\":\"flex\",\"justify-content\":\"center\"}\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_BlogPost = _resolveComponent(\"BlogPost\")!\n  const _component_TheLoader = _resolveComponent(\"TheLoader\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", null, [\n    _createElementVNode(\"h1\", {\n      class: _normalizeClass(_ctx.$style.title)\n    }, \"Блог\", 2),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(_ctx.$style.blogsBlock)\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.postsList, (post, index) => {\n        return (_openBlock(), _createBlock(_component_BlogPost, {\n          key: post.id,\n          post: post,\n          class: _normalizeClass({[_ctx.$style.longBlogPost]: (_ctx.checkLongPostIndex(index))})\n        }, null, 8, [\"post\", \"class\"]))\n      }), 128))\n    ], 2),\n    (_ctx.loadContent)\n      ? (_openBlock(), _createBlock(_component_TheLoader, { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    (!_ctx.loadContent)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"button\", {\n            class: _normalizeClass(_ctx.$style.nextPage),\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleNextPageButton && _ctx.handleNextPageButton(...args)))\n          }, \"Следующая страница\", 2)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(_ctx.$style.wrapper)\n  }, [\n    _createElementVNode(\"img\", {\n      src: _ctx.post.image,\n      class: _normalizeClass(_ctx.$style.image),\n      alt: \"\"\n    }, null, 10, _hoisted_1),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(_ctx.$style.textBlock)\n    }, [\n      _createElementVNode(\"a\", {\n        class: _normalizeClass(_ctx.$style.title),\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.handleTitleBlogButton(this.post.id)))\n      }, [\n        _createElementVNode(\"span\", { ref: \"title\" }, _toDisplayString(this.post.title), 513),\n        _withDirectives(_createElementVNode(\"span\", {\n          class: _normalizeClass(_ctx.$style.titleDots),\n          ref: \"titleDots\"\n        }, \"...\", 2), [\n          [_vShow, _ctx.addDots]\n        ])\n      ], 2),\n      _createElementVNode(\"p\", {\n        class: _normalizeClass(_ctx.$style.date)\n      }, _toDisplayString(_ctx.getPostDate(this.post.id)), 3)\n    ], 2)\n  ], 2))\n}","\n  import { defineComponent, PropType } from 'vue';\n  import { mapActions } from 'vuex';\n\n  interface postsType {\n    id: number,\n    title: string,\n    image: string,\n    image2?: string,\n    image3?: string,\n    image4?: string,\n    body?: string\n  }\n\n  export default defineComponent({\n    name: 'BlogPost',\n    data(){\n      return {\n        addDots: false,\n      }\n    },\n    props: {\n      post: {\n        type: Object as PropType<postsType>\n      }\n    },\n    methods: {\n      ...mapActions([\n        'getPostById'\n      ]),\n      getPostDate(id: number){\n        const fullDate = new Date(\n          2022,\n          new Date().getMonth() - id, \n          15\n        );\n        const year = fullDate.getFullYear();\n        const month = fullDate.getMonth() + 1;\n        const date = fullDate.getDate();\n        return `${(date < 10) ? '0' + date : date}.${(month < 10) ? '0' + month : month}.${year}`;\n      },\n      checkAddDots(){\n        const titleElement = (this.$refs[\"title\"] as HTMLSpanElement);\n        const titleDotsElement = (this.$refs[\"titleDots\"] as HTMLSpanElement);\n        const numberOfLines = titleElement.getClientRects().length;\n        const secondLine = titleElement.getClientRects()[1];\n        if(numberOfLines > 2) {\n          this.addDots = true;\n          const secondLineWidth = secondLine.width + 8;\n          titleDotsElement.style.left = `${secondLineWidth}px`;\n        } else {\n          this.addDots = false;\n        }\n      },\n      handleTitleBlogButton(id: number){\n        this.$router.push(`/blog/${id}`);\n        this.getPostById(id);\n      }\n    },\n    created() {\n      window.addEventListener(\"resize\", this.checkAddDots);\n    },\n    unmounted() {\n      window.removeEventListener(\"resize\", this.checkAddDots);\n    },\n    mounted(){\n      this.checkAddDots();\n    }\n  });\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"BlogPost_wrapper_Jp9DD\",\"image\":\"BlogPost_image_RVBCu\",\"title\":\"BlogPost_title_jSmhS\",\"titleDots\":\"BlogPost_titleDots_yz5Ik\",\"date\":\"BlogPost_date_EEZD1\",\"textBlock\":\"BlogPost_textBlock_BKyPK\"};","import { render } from \"./BlogPost.vue?vue&type=template&id=3e8445c8&ts=true\"\nimport script from \"./BlogPost.vue?vue&type=script&lang=ts\"\nexport * from \"./BlogPost.vue?vue&type=script&lang=ts\"\n\nconst cssModules = {}\nimport style0 from \"./BlogPost.vue?vue&type=style&index=0&id=3e8445c8&lang=scss&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"/Users/anna/Desktop/Программы/Portfolio/book-store/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__cssModules',cssModules]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport TheLoader from '../components/TheLoader.vue';\nimport BlogPost from '../components/BlogPost.vue';\n\nexport default defineComponent({\n  name: 'BlogView',\n  data(){\n    return {\n      loadContent: true,\n    }\n  },\n  components: {\n    TheLoader,\n    BlogPost\n  },\n  computed: {\n    ...mapGetters([\n      'postsList',\n    ])\n  },\n  watch: {\n    postsList(){\n      this.loadContent = false;\n    }\n  },\n  methods: {\n    ...mapActions([\n      'getPosts',\n      'getNextPage'\n    ]),\n    handleNextPageButton(){\n      this.loadContent = true;\n      this.getNextPage();\n      this.getPosts();\n    },\n    checkLongPostIndex(index:number){\n      const stringNumber = `${index}`;\n      const lastNumber = +stringNumber.charAt(stringNumber.length - 1);\n      return (lastNumber === 5 || lastNumber === 6) ? true : false;\n    }\n  },\n  mounted(){\n    if(this.postsList.length) {\n      this.loadContent = false;\n    } else {\n      this.getPosts();\n    }\n  }\n});\n","// extracted by mini-css-extract-plugin\nexport default {\"blogsBlock\":\"BlogView_blogsBlock_RpDNK\",\"title\":\"BlogView_title_a7xpy\",\"longBlogPost\":\"BlogView_longBlogPost_PThGL\",\"nextPage\":\"BlogView_nextPage_Bb3dN\"};","import { render } from \"./BlogView.vue?vue&type=template&id=b9090fac&ts=true\"\nimport script from \"./BlogView.vue?vue&type=script&lang=ts\"\nexport * from \"./BlogView.vue?vue&type=script&lang=ts\"\n\nconst cssModules = {}\nimport style0 from \"./BlogView.vue?vue&type=style&index=0&id=b9090fac&lang=scss&module=true\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"/Users/anna/Desktop/Программы/Portfolio/book-store/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__cssModules',cssModules]])\n\nexport default __exports__"],"names":["_hoisted_1","key","style","render","_ctx","_cache","$props","$setup","$data","$options","_component_BlogPost","_resolveComponent","_component_TheLoader","_openBlock","_createElementBlock","_createElementVNode","class","_normalizeClass","$style","title","blogsBlock","_Fragment","_renderList","postsList","post","index","_createBlock","id","longBlogPost","checkLongPostIndex","loadContent","_createCommentVNode","nextPage","onClick","args","handleNextPageButton","wrapper","src","image","alt","textBlock","$event","handleTitleBlogButton","this","ref","_toDisplayString","_withDirectives","titleDots","_vShow","addDots","date","getPostDate","defineComponent","name","data","props","type","Object","methods","mapActions","fullDate","Date","getMonth","year","getFullYear","month","getDate","checkAddDots","titleElement","$refs","titleDotsElement","numberOfLines","getClientRects","length","secondLine","secondLineWidth","width","left","$router","push","getPostById","created","window","addEventListener","unmounted","removeEventListener","mounted","cssModules","__exports__","components","TheLoader","BlogPost","computed","mapGetters","watch","getNextPage","getPosts","stringNumber","lastNumber","charAt"],"sourceRoot":""}