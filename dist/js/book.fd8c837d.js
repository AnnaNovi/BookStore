"use strict";(self["webpackChunkbook_store"]=self["webpackChunkbook_store"]||[]).push([[112],{5971:function(e,t,i){i.r(t),i.d(t,{default:function(){return z}});var o=i(3396),s=i(7139),a=i(7795);const l=a+"#like",r=a+"#check",c=a+"#notAvailable",n=["src"],k=(0,o._)("svg",null,[(0,o._)("use",{href:l})],-1),_=[k],u=(0,o._)("use",{href:r},null,-1),v=[u],B=(0,o.Uk)(" В наличии "),w=(0,o._)("use",{href:c},null,-1),d=[w],h=(0,o.Uk)(" Нет в наличии "),p={key:0},y=(0,o.Uk)("В корзину");function g(e,t,i,a,l,r){const c=(0,o.up)("TheLoader"),k=(0,o.up)("ButtonBrown"),u=(0,o.up)("BooksSwiper");return(0,o.wg)(),(0,o.iD)("section",{class:(0,s.C_)({[e.$style.wrapper]:!e.loadContent})},[e.loadContent?((0,o.wg)(),(0,o.j4)(c,{key:0})):(0,o.kq)("",!0),e.loadContent?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",{class:(0,s.C_)(e.$style.hideTitle)},[(0,o._)("div",{class:(0,s.C_)(e.$style.author)},(0,s.zw)(e.activeBook.author),3),(0,o._)("div",{class:(0,s.C_)(e.$style.title)},(0,s.zw)(e.activeBook.title),3)],2),(0,o._)("div",{class:(0,s.C_)(e.$style.image)},[(0,o._)("img",{src:e.imageSrc,alt:"",class:(0,s.C_)(e.$style.image)},null,10,n),(0,o._)("button",{class:(0,s.C_)([e.$style.like,{[e.$style.active]:this.like}]),onClick:t[0]||(t[0]=t=>e.handleLikeButton(this.activeBook.key))},_,2),e.activeBook.discount?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(e.$style.sale)},(0,s.zw)(e.activeBook.discount)+"% ",3)):(0,o.kq)("",!0)],2),(0,o._)("div",{class:(0,s.C_)(e.$style.description)},[(0,o._)("div",{class:(0,s.C_)(e.$style.author)},(0,s.zw)(e.activeBook.author),3),(0,o._)("div",{class:(0,s.C_)(e.$style.title)},(0,s.zw)(e.activeBook.title),3),e.activeBook.available?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(e.$style.available)},[((0,o.wg)(),(0,o.iD)("svg",{class:(0,s.C_)(e.$style.icon)},v,2)),B],2)):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,s.C_)(e.$style.available)},[((0,o.wg)(),(0,o.iD)("svg",{class:(0,s.C_)(e.$style.icon)},d,2)),h],2)),(0,o._)("hr",{class:(0,s.C_)(e.$style.line)},null,2),(0,o._)("div",{class:(0,s.C_)(e.$style.innerWrapper)},[(0,o._)("div",{class:(0,s.C_)(e.$style.price)},[(0,o._)("span",{class:(0,s.C_)({[e.$style.lastPrice]:!!e.discountPrice})},(0,s.zw)(e.activeBook.price),3),e.discountPrice?((0,o.wg)(),(0,o.iD)("span",p,(0,s.zw)(e.discountPrice),1)):(0,o.kq)("",!0)],2),(0,o.Wm)(k,{paddingLR:25,style:{"padding-top":"13px","padding-bottom":"13px"}},{default:(0,o.w5)((()=>[y])),_:1})],2),(0,o._)("hr",{class:(0,s.C_)(e.$style.line)},null,2),(0,o._)("div",{class:(0,s.C_)(e.$style.featureList)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.featureList,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(e.$style.featureItem),key:i},[(0,o._)("span",null,(0,s.zw)(t[0]),1),(0,o._)("span",{class:(0,s.C_)(e.$style.featureItemValue)},(0,s.zw)(t[1]),3)],2)))),128))],2),(0,o._)("hr",{class:(0,s.C_)(e.$style.line)},null,2),e.activeBook.firstSentence?((0,o.wg)(),(0,o.iD)("p",{key:2,class:(0,s.C_)(e.$style.firstSentence)},(0,s.zw)(e.activeBook.firstSentence[0])+".. ",3)):(0,o.kq)("",!0)],2),(0,o.Wm)(u,{title:"Похожие продукты",type:"similar",class:(0,s.C_)(e.$style.swiper)},null,8,["class"])],64))],2)}var C=i(65),f=i(76),$=i(7489),m=i(9966),V=(0,o.aZ)({name:"BlogSingleView",data(){return{loadContent:!0,like:!1}},components:{TheLoader:f.Z,BooksSwiper:$.Z,ButtonBrown:m.Z},computed:{...(0,C.Se)(["activeBook","favoritesList"]),imageSrc(){return`https://covers.openlibrary.org/b/olid/${this.activeBook?.image}-L.jpg`},discountPrice(){return this.activeBook?.discount?Math.ceil(this.activeBook?.price*(100-this.activeBook?.discount)/100):null},featureList(){return[["Издательство","BomBora"],["Год публикации",this.activeBook.publisherYear],["Количество страниц",this.activeBook.quantityOfPage],["Размер","21×36"],["Вес",`${this.activeBook.weight} гр`],["Тип обложки","Твёрдый переплёт"],["ISBN",this.activeBook.isbn]]}},watch:{activeBook(){this.loadContent=!1,this.checkFavoritesBook(this.activeBook?.key).then((e=>{this.like=e})),this.getSimilarBooks(this.activeBook?.subject)}},methods:{...(0,C.nv)(["getBookById","toggleFavoritesBook","checkFavoritesBook","getSimilarBooks"]),handleLikeButton(e){this.toggleFavoritesBook(e),this.like=!this.like,localStorage.setItem("favoritesList",JSON.stringify([...this.favoritesList]))}},mounted(){const e=this.$router.currentRoute.value.params.id;this.getBookById(e)}}),b={wrapper:"BookView_wrapper_MsAmq",image:"BookView_image_rG2Ep",description:"BookView_description_HbYco",hideTitle:"BookView_hideTitle_z3hnJ",author:"BookView_author_qHscb",title:"BookView_title_T4GTn",available:"BookView_available_N1jun",line:"BookView_line_lGRvK",icon:"BookView_icon_rK0Pi",price:"BookView_price_kKOxk",lastPrice:"BookView_lastPrice_OLE4g",like:"BookView_like_o0P7P",active:"BookView_active_RCa2L",firstSentence:"BookView_firstSentence_YjjFd",featureItem:"BookView_featureItem_iqq8b",featureItemValue:"BookView_featureItemValue_MyX3v",swiper:"BookView_swiper_r9_yN",innerWrapper:"BookView_innerWrapper_XTYrL",featureList:"BookView_featureList_hLa03",sale:"BookView_sale_vE7qv"},L=i(89);const S={};S["$style"]=b;const q=(0,L.Z)(V,[["render",g],["__cssModules",S]]);var z=q}}]);
//# sourceMappingURL=book.fd8c837d.js.map